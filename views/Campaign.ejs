<style>
@font-face {
	font-family: 'Raleway';
	src: local('Raleway'), url(/fonts/Raleway-Regular.ttf) format('truetype');
}

body {
	margin: 0;
	font-family: Raleway;
	font-size: 25px;
}
#content {
	width:960px; margin:50px auto;
}
#title {
	text-align:center; font-size:50px;
	width:100%; height:50px;
	padding:40px 0; margin-top: 50px;
	background:#000; color:#fff
}
#fundraiser {
	width:800px; margin:50px auto;
}

#bar {
	width:800px;
	height:50px;
	overflow: hidden;
	margin: 15px 0;
	position: relative;
	border-radius: 25px;

	background:#000;
}
#bar > div {
	position: absolute;
}
#bar_background {
	width:100%; height:50px;
	overflow: hidden;
}
#bar_background > div {
	
	float: left;
	background: #CC2727;
	width:0px; height:100%;
	
	-webkit-transition: width 1s ease-in-out;
    -moz-transition: width 1s ease-in-out;
    -ms-transition: width 1s ease-in-out;
    -o-transition: width 1s ease-in-out;
    transition: width 1s ease-in-out;

}
#bar_background > #bar_demo{ opacity:1 }
#bar_background > #bar_alpha{ opacity:0.8 }
#bar_background > #bar_beta{ opacity:0.6 }
#bar_background > #bar_done{ opacity:0.4 }


hr {
	border: none;
	border-bottom: 2px dashed #ddd;
}

#form {
	width:800px;
	margin:50px auto;
}
#form hr {
	border: none;
	border-bottom: 2px dashed #ddd;
}
#form .header {
	margin-bottom: 10px;
}
#form .button {
	float:left;
	background: #000;
	color: #fff;
	text-align: center;
	padding: 10px;
	width:200px;
	margin-right: 10px;
	border-radius: 100px;
	cursor: pointer;
}
#form .button:hover {
	background: #555;
}
#form .text_input {
	padding:5px; font-size:25px; font-family:Raleway; width:100%
}

</style>

<div id="title">
	PROGRESS PLEDGE PROTOTYPE
</div>

<%

var goal = campaign.goal;

var demo = campaign.demo;
var alpha = campaign.alpha;
var beta = campaign.beta;
var done = campaign.done;
var total = demo+alpha+beta+done;

%>

<div id="fundraiser">
	<div id="bar">
		<div id="bar_background">
			<div id="bar_demo"></div>
			<div id="bar_alpha"></div>
			<div id="bar_beta"></div>
			<div id="bar_done"></div>
		</div>
	</div>
	<div style="text-align:center">
		raised $<%=Math.round(total)%> out of $<%=Math.round(goal)%> from <%=campaign.backers%> backers
	</div>
</div>

<script>
	window.onload = function(){
		
		var bar_demo = document.querySelector("#bar_demo");
		var bar_alpha = document.querySelector("#bar_alpha");
		var bar_beta = document.querySelector("#bar_beta");
		var bar_done = document.querySelector("#bar_done");

		setTimeout(function(){ bar_demo.style.width = "<%=(demo/goal)*100%>%"; },0);
		setTimeout(function(){ bar_alpha.style.width = "<%=(alpha/goal)*100%>%"; },300);
		setTimeout(function(){ bar_beta.style.width = "<%=(beta/goal)*100%>%"; },600);
		setTimeout(function(){ bar_done.style.width = "<%=(done/goal)*100%>%"; },900);

	};
</script>